---
import '../styles/portafolio.css'

// Importa imágenes
import myImageP from '../assets/proyectos/favlashnuevo.png';
import myImageP3 from '../assets/proyectos/3.png';
import myImageP4 from '../assets/proyectos/4.png';
import myImageP5 from '../assets/proyectos/5.png';
import myImageP6 from '../assets/proyectos/6.png';
import myImageP7 from '../assets/proyectos/7.png';
import myImageP8 from '../assets/proyectos/8.png';
import myImageP9 from '../assets/proyectos/9.png';
import myImageP10 from '../assets/proyectos/10.png';
import myImageP11 from '../assets/proyectos/11.png';
import myImageP14 from '../assets/proyectos/14.png';
import myImageP15 from '../assets/proyectos/15.png';
import myImageP16 from '../assets/proyectos/16.png';
import myImageP17 from '../assets/proyectos/17.png';
import myImageP18 from '../assets/proyectos/18.png';
import myImageP19 from '../assets/proyectos/19.png';
import myImageP20 from '../assets/proyectos/20.png';
import myImageP21 from '../assets/proyectos/perioclinic.png';
import myImageP22 from '../assets/proyectos/holistic.png';
import myImageP23 from '../assets/proyectos/tjplastic.png';
import myImageP24 from '../assets/proyectos/reinos.png';
import myImageP25 from '../assets/proyectos/chicaf.webp';
import myImageP26 from '../assets/proyectos/perezgrovas.webp'
import myImageP27 from '../assets/proyectos/rihab.webp';
import myImageP28 from '../assets/proyectos/amt.png';
import MyImage29 from '../assets/proyectos/altiveweb.webp'

// Lista de proyectos con agencia, tecnología y nombre
const proyectos = [
  { url: "http://favlash.com/", img: myImageP, agencia: "VikingDev", tech: "WordPress", nombre: "Favlash" },
  { url: "https://danyaargote.com/", img: myImageP3, agencia: "VikingDev", tech: "WordPress", nombre: "Danya Argote" },
  { url: "https://global-recruiters.com/", img: myImageP4, agencia: "VikingDev", tech: "WordPress", nombre: "Global Recruiters" },
  { url: "https://coinase.mx/", img: myImageP5, agencia: "VikingDev", tech: "WordPress", nombre: "Grupo Coinase" },
  { url: "http://ciplastic.com/", img: myImageP6, agencia: "VikingDev", tech: "WordPress", nombre: "Ciplastic" },
  { url: "https://www.techmeol.com/", img: myImageP7, agencia: "VikingDev", tech: "Squarespace", nombre: "Tech Meol Group" },
  { url: "https://ixayaresidencial.mx/", img: myImageP8, agencia: "VikingDev", tech: "WordPress", nombre: "Ixaya Residencial" },
  { url: "https://gruascervantestijuana.com/", img: myImageP9, agencia: "VikingDev", tech: "WordPress", nombre: "Grúas Cervantes" },
  { url: "https://mudanzashermosillo.com.mx/", img: myImageP10, agencia: "VikingDev", tech: "WordPress", nombre: "Mudanzas Hermosillo" },
  { url: "https://madeirascollection.com", img: myImageP11, agencia: "VikingDev", tech: "WordPress", nombre: "Madeiras Collection" },
  { url: "https://integratj.com.mx/", img: myImageP14, agencia: "Snitch Agency", tech: "WordPress", nombre: "Integra TJ" },
  { url: "https://ppsolutions.com.mx/", img: myImageP15, agencia: "Snitch Agency", tech: "WordPress", nombre: "PP Solutions" },
  { url: "http://clidpay.us/", img: myImageP16, agencia: "VikingDev", tech: "WordPress", nombre: "ClidPay" },
  { url: "https://snitchagency.com/", img: myImageP17, agencia: "Snitch Agency", tech: "Astro", nombre: "Snitch Agency" },
  { url: "https://bajabox.com.mx/", img: myImageP18, agencia: "Snitch Agency", tech: "WordPress", nombre: "BajaBox" },
  { url: "https://gynandmed.com/", img: myImageP19, agencia: "VikingDev", tech: "WordPress", nombre: "GynandMed" },
  { url: "https://larectacoworking.com/", img: myImageP20, agencia: "VikingDev", tech: "WordPress", nombre: "La Recta Coworking" },
  { url: "https://perioclinic.com.mx/", img: myImageP21, agencia: "Snitch Agency", tech: "WordPress", nombre: "Perioclinic" },
  { url: "https://tjplasticsurgeryofficial.com/", img: myImageP23, agencia: "Snitch Agency", tech: "WordPress", nombre: "TJ Plastic Surgery" },
  { url: "https://los12reinoszodiacales.com/", img: myImageP24, agencia: "VikingDev", tech: "WordPress", nombre: "Los 12 Reinos Zodiacales" },
  { url: "https://lachicafinanzas.com.mx/", img: myImageP25, agencia: "Snitch Agency", tech: "WordPress", nombre: "La Chica Finanzas" },
  { url: "https://perezgrovas.com/", img: myImageP26, agencia: "VikingDev", tech: "WordPress", nombre: "Pérez Grovas" },
  { url: "https://rihabvetcare.com/", img: myImageP27, agencia: "VikingDev", tech: "WordPress", nombre: "Rihab Vet Care" },
  { url: "https://holisticancercoach.com/", img: myImageP22, agencia: "VikingDev", tech: "Astro", nombre: "Holistic Cancer Coach" },
  { url: "https://alliance-medtech.com/", img: myImageP28, agencia: "Snitch Agency", tech: "WordPress", nombre: "Alliance MedTech" },
  { url: "https://altive.realty/", img: MyImage29, agencia: "VikingDev", tech: "Astro", nombre: "Altive Realty" },
];

// Calcular contador por agencia
const contadorAgencias = proyectos.reduce((acc, p) => {
  acc[p.agencia] = (acc[p.agencia] || 0) + 1;
  return acc;
}, {});

---

<section class="portafolio" id="proyectos">
  <div class="cuadros-cont">
    <div class="main-title-port">
      <h4>Portafolio</h4>
      <h1>Proyectos que Han Transformado Negocios</h1>
    </div>
    
    <!-- Filtros con contador -->
    <div class="filtros">
      <button data-agencia="VikingDev" class="filtro activo">
        VikingDev <span class="contador">({contadorAgencias['VikingDev']})</span>
      </button>
      <button data-agencia="Snitch Agency" class="filtro">
        Snitch Agency <span class="contador">({contadorAgencias['Snitch Agency']})</span>
      </button>
    </div>

    <!-- Galería -->
    <div class="galeria">
      {proyectos.map((p) => (
        <div 
          class="proyecto" 
          data-agencia={p.agencia}
          data-nombre={p.nombre}
          data-tech={p.tech}
          data-url={p.url}
        >
          <img src={p.img.src} alt={p.nombre} class="port-img" />
        </div>
      ))}
    </div>

    <!-- Paginación -->
    <div class="paginacion">
      <button id="anterior" disabled>Anterior</button>
      <button id="siguiente">Siguiente</button>
    </div>
  </div>
</section>

<!-- Modal -->
<div id="modalProyecto" class="modal-proyecto">
  <div class="modal-overlay"></div>
  <div class="modal-content-proyecto">
    <span class="close-modal">&times;</span>
    <img id="modalImagen" src="" alt="Proyecto" />
    <div class="modal-info-overlay">
      <div class="info-item">
        <h3>Cliente</h3>
        <p id="modalNombre"></p>
      </div>
      <div class="info-item">
        <h3>Tecnología</h3>
        <p id="modalTech"></p>
      </div>
      <div class="info-item">
        <h3>URL</h3>
        <a id="modalUrl" href="" target="_blank"></a>
      </div>
    </div>
  </div>
</div>

<script>
  import "../scripts/drag.js"
</script>